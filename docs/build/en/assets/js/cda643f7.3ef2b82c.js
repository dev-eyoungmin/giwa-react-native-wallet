"use strict";(globalThis.webpackChunkgiwa_react_native_sdk_docs=globalThis.webpackChunkgiwa_react_native_sdk_docs||[]).push([[853],{8193(e,n,t){t.d(n,{R:()=>o,x:()=>l});var i=t(758);const a={},s=i.createContext(a);function o(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),i.createElement(s.Provider,{value:n},e.children)}},8334(e,n,t){t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>u,frontMatter:()=>o,metadata:()=>i,toc:()=>r});const i=JSON.parse('{"id":"testing/e2e-tests","title":"E2E \ud14c\uc2a4\ud2b8","description":"Detox\ub97c \uc0ac\uc6a9\ud55c End-to-End \ud14c\uc2a4\ud2b8 \uc791\uc131 \ubc29\ubc95\uc785\ub2c8\ub2e4.","source":"@site/docs/testing/e2e-tests.md","sourceDirName":"testing","slug":"/testing/e2e-tests","permalink":"/giwa-react-native-wallet/en/docs/testing/e2e-tests","draft":false,"unlisted":false,"editUrl":"https://github.com/devym-37/giwa-react-native-wallet/tree/main/docs/docs/testing/e2e-tests.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"\ud1b5\ud569 \ud14c\uc2a4\ud2b8","permalink":"/giwa-react-native-wallet/en/docs/testing/integration-tests"}}');var a=t(6070),s=t(8193);const o={sidebar_position:4},l="E2E \ud14c\uc2a4\ud2b8",d={},r=[{value:"Detox \uc124\uc815",id:"detox-\uc124\uc815",level:2},{value:"\uc124\uce58",id:"\uc124\uce58",level:3},{value:"\uc124\uc815 \ud30c\uc77c",id:"\uc124\uc815-\ud30c\uc77c",level:3},{value:"Jest \uc124\uc815",id:"jest-\uc124\uc815",level:3},{value:"E2E \ud14c\uc2a4\ud2b8 \uc791\uc131",id:"e2e-\ud14c\uc2a4\ud2b8-\uc791\uc131",level:2},{value:"\uc9c0\uac11 \uc0dd\uc131 \ud14c\uc2a4\ud2b8",id:"\uc9c0\uac11-\uc0dd\uc131-\ud14c\uc2a4\ud2b8",level:3},{value:"\uc794\uc561 \uc870\ud68c \ud14c\uc2a4\ud2b8",id:"\uc794\uc561-\uc870\ud68c-\ud14c\uc2a4\ud2b8",level:3},{value:"\ud2b8\ub79c\uc7ad\uc158 \uc804\uc1a1 \ud14c\uc2a4\ud2b8",id:"\ud2b8\ub79c\uc7ad\uc158-\uc804\uc1a1-\ud14c\uc2a4\ud2b8",level:3},{value:"\uc0dd\uccb4 \uc778\uc99d \ud14c\uc2a4\ud2b8",id:"\uc0dd\uccb4-\uc778\uc99d-\ud14c\uc2a4\ud2b8",level:3},{value:"\ud14c\uc2a4\ud2b8 \uc2e4\ud589",id:"\ud14c\uc2a4\ud2b8-\uc2e4\ud589",level:2},{value:"CI/CD \ud1b5\ud569",id:"cicd-\ud1b5\ud569",level:2},{value:"\ud14c\uc2a4\ud2b8 \uc720\ud2f8\ub9ac\ud2f0",id:"\ud14c\uc2a4\ud2b8-\uc720\ud2f8\ub9ac\ud2f0",level:2}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"e2e-\ud14c\uc2a4\ud2b8",children:"E2E \ud14c\uc2a4\ud2b8"})}),"\n",(0,a.jsx)(n.p,{children:"Detox\ub97c \uc0ac\uc6a9\ud55c End-to-End \ud14c\uc2a4\ud2b8 \uc791\uc131 \ubc29\ubc95\uc785\ub2c8\ub2e4."}),"\n",(0,a.jsx)(n.h2,{id:"detox-\uc124\uc815",children:"Detox \uc124\uc815"}),"\n",(0,a.jsx)(n.h3,{id:"\uc124\uce58",children:"\uc124\uce58"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Detox CLI\nnpm install -g detox-cli\n\n# \ud504\ub85c\uc81d\ud2b8 \uc758\uc874\uc131\nnpm install --save-dev detox jest-circus\n\n# iOS\nbrew tap wix/brew\nbrew install applesimutils\n"})}),"\n",(0,a.jsx)(n.h3,{id:"\uc124\uc815-\ud30c\uc77c",children:"\uc124\uc815 \ud30c\uc77c"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"// .detoxrc.js\nmodule.exports = {\n  testRunner: {\n    args: {\n      $0: 'jest',\n      config: 'e2e/jest.config.js',\n    },\n    jest: {\n      setupTimeout: 120000,\n    },\n  },\n  apps: {\n    'ios.debug': {\n      type: 'ios.app',\n      binaryPath: 'ios/build/Build/Products/Debug-iphonesimulator/YourApp.app',\n      build:\n        'xcodebuild -workspace ios/YourApp.xcworkspace -scheme YourApp -configuration Debug -sdk iphonesimulator -derivedDataPath ios/build',\n    },\n    'android.debug': {\n      type: 'android.apk',\n      binaryPath: 'android/app/build/outputs/apk/debug/app-debug.apk',\n      build:\n        'cd android && ./gradlew assembleDebug assembleAndroidTest -DtestBuildType=debug',\n    },\n  },\n  devices: {\n    simulator: {\n      type: 'ios.simulator',\n      device: { type: 'iPhone 15' },\n    },\n    emulator: {\n      type: 'android.emulator',\n      device: { avdName: 'Pixel_4_API_30' },\n    },\n  },\n  configurations: {\n    'ios.sim.debug': {\n      device: 'simulator',\n      app: 'ios.debug',\n    },\n    'android.emu.debug': {\n      device: 'emulator',\n      app: 'android.debug',\n    },\n  },\n};\n"})}),"\n",(0,a.jsx)(n.h3,{id:"jest-\uc124\uc815",children:"Jest \uc124\uc815"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"// e2e/jest.config.js\nmodule.exports = {\n  rootDir: '..',\n  testMatch: ['<rootDir>/e2e/**/*.test.ts'],\n  testTimeout: 120000,\n  maxWorkers: 1,\n  globalSetup: 'detox/runners/jest/globalSetup',\n  globalTeardown: 'detox/runners/jest/globalTeardown',\n  reporters: ['detox/runners/jest/reporter'],\n  testEnvironment: 'detox/runners/jest/testEnvironment',\n  verbose: true,\n};\n"})}),"\n",(0,a.jsx)(n.h2,{id:"e2e-\ud14c\uc2a4\ud2b8-\uc791\uc131",children:"E2E \ud14c\uc2a4\ud2b8 \uc791\uc131"}),"\n",(0,a.jsx)(n.h3,{id:"\uc9c0\uac11-\uc0dd\uc131-\ud14c\uc2a4\ud2b8",children:"\uc9c0\uac11 \uc0dd\uc131 \ud14c\uc2a4\ud2b8"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:"// e2e/wallet.test.ts\nimport { device, element, by, expect } from 'detox';\n\ndescribe('Wallet', () => {\n  beforeAll(async () => {\n    await device.launchApp();\n  });\n\n  beforeEach(async () => {\n    await device.reloadReactNative();\n  });\n\n  it('should create new wallet', async () => {\n    // \uc9c0\uac11 \uc0dd\uc131 \ubc84\ud2bc \ud0ed\n    await element(by.id('create-wallet-button')).tap();\n\n    // \uc8fc\uc18c \ud45c\uc2dc \ud655\uc778\n    await expect(element(by.id('wallet-address'))).toBeVisible();\n\n    // \uc8fc\uc18c \ud615\uc2dd \ud655\uc778\n    const addressElement = element(by.id('wallet-address'));\n    await expect(addressElement).toHaveText(/^0x[a-fA-F0-9]{40}$/);\n  });\n\n  it('should show mnemonic backup screen', async () => {\n    await element(by.id('create-wallet-button')).tap();\n\n    // \ub2c8\ubaa8\ub2c9 \ubc31\uc5c5 \ud654\uba74 \ud655\uc778\n    await expect(element(by.id('mnemonic-backup-screen'))).toBeVisible();\n\n    // 12\ub2e8\uc5b4 \ud655\uc778\n    await expect(element(by.id('mnemonic-word-0'))).toBeVisible();\n    await expect(element(by.id('mnemonic-word-11'))).toBeVisible();\n\n    // \ubc31\uc5c5 \ud655\uc778 \ubc84\ud2bc\n    await element(by.id('confirm-backup-button')).tap();\n\n    // \uba54\uc778 \ud654\uba74\uc73c\ub85c \uc774\ub3d9\n    await expect(element(by.id('wallet-screen'))).toBeVisible();\n  });\n\n  it('should recover wallet from mnemonic', async () => {\n    // \ubcf5\uad6c \ubc84\ud2bc \ud0ed\n    await element(by.id('recover-wallet-button')).tap();\n\n    // \ub2c8\ubaa8\ub2c9 \uc785\ub825\n    const testMnemonic =\n      'abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon about';\n\n    await element(by.id('mnemonic-input')).typeText(testMnemonic);\n\n    // \ubcf5\uad6c \ubc84\ud2bc \ud0ed\n    await element(by.id('submit-recover-button')).tap();\n\n    // \uc9c0\uac11 \ud654\uba74 \ud655\uc778\n    await expect(element(by.id('wallet-screen'))).toBeVisible();\n\n    // \uc608\uc0c1 \uc8fc\uc18c \ud655\uc778\n    await expect(element(by.id('wallet-address'))).toHaveText(\n      '0x9858EfFD232B4033E47d90003D41EC34EcaEda94'\n    );\n  });\n});\n"})}),"\n",(0,a.jsx)(n.h3,{id:"\uc794\uc561-\uc870\ud68c-\ud14c\uc2a4\ud2b8",children:"\uc794\uc561 \uc870\ud68c \ud14c\uc2a4\ud2b8"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:"// e2e/balance.test.ts\nimport { device, element, by, expect } from 'detox';\n\ndescribe('Balance', () => {\n  beforeAll(async () => {\n    await device.launchApp();\n    // \uc9c0\uac11 \uc0dd\uc131\n    await element(by.id('create-wallet-button')).tap();\n    await element(by.id('confirm-backup-button')).tap();\n  });\n\n  it('should display balance', async () => {\n    await expect(element(by.id('balance-display'))).toBeVisible();\n  });\n\n  it('should refresh balance on pull', async () => {\n    // Pull to refresh\n    await element(by.id('balance-scroll-view')).swipe('down');\n\n    // \ub85c\ub529 \uc778\ub514\ucf00\uc774\ud130 \ud655\uc778\n    await expect(element(by.id('balance-loading'))).toBeVisible();\n\n    // \ub85c\ub529 \uc644\ub8cc \ub300\uae30\n    await waitFor(element(by.id('balance-loading')))\n      .not.toBeVisible()\n      .withTimeout(5000);\n\n    // \uc794\uc561 \ud45c\uc2dc \ud655\uc778\n    await expect(element(by.id('balance-display'))).toBeVisible();\n  });\n});\n"})}),"\n",(0,a.jsx)(n.h3,{id:"\ud2b8\ub79c\uc7ad\uc158-\uc804\uc1a1-\ud14c\uc2a4\ud2b8",children:"\ud2b8\ub79c\uc7ad\uc158 \uc804\uc1a1 \ud14c\uc2a4\ud2b8"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:"// e2e/transaction.test.ts\nimport { device, element, by, expect, waitFor } from 'detox';\n\ndescribe('Transaction', () => {\n  beforeAll(async () => {\n    await device.launchApp();\n    // \ud14c\uc2a4\ud2b8 \uc9c0\uac11\uc73c\ub85c \ubcf5\uad6c (\uc794\uc561 \uc788\ub294 \uc9c0\uac11)\n    await element(by.id('recover-wallet-button')).tap();\n    await element(by.id('mnemonic-input')).typeText('test mnemonic...');\n    await element(by.id('submit-recover-button')).tap();\n  });\n\n  it('should navigate to send screen', async () => {\n    await element(by.id('send-button')).tap();\n    await expect(element(by.id('send-screen'))).toBeVisible();\n  });\n\n  it('should validate address input', async () => {\n    await element(by.id('send-button')).tap();\n\n    // \uc798\ubabb\ub41c \uc8fc\uc18c \uc785\ub825\n    await element(by.id('recipient-input')).typeText('invalid-address');\n    await element(by.id('submit-send-button')).tap();\n\n    // \uc5d0\ub7ec \uba54\uc2dc\uc9c0 \ud655\uc778\n    await expect(element(by.id('address-error'))).toBeVisible();\n  });\n\n  it('should send transaction successfully', async () => {\n    await element(by.id('send-button')).tap();\n\n    // \uc720\ud6a8\ud55c \uc8fc\uc18c \uc785\ub825\n    await element(by.id('recipient-input')).replaceText(\n      '0x0000000000000000000000000000000000000001'\n    );\n\n    // \uae08\uc561 \uc785\ub825\n    await element(by.id('amount-input')).typeText('0.001');\n\n    // \uc804\uc1a1 \ubc84\ud2bc \ud0ed\n    await element(by.id('submit-send-button')).tap();\n\n    // \ud655\uc778 \ub2e4\uc774\uc5bc\ub85c\uadf8\n    await expect(element(by.id('confirm-dialog'))).toBeVisible();\n    await element(by.id('confirm-send-button')).tap();\n\n    // \uc131\uacf5 \uba54\uc2dc\uc9c0 \ub300\uae30\n    await waitFor(element(by.id('success-message')))\n      .toBeVisible()\n      .withTimeout(30000);\n  });\n});\n"})}),"\n",(0,a.jsx)(n.h3,{id:"\uc0dd\uccb4-\uc778\uc99d-\ud14c\uc2a4\ud2b8",children:"\uc0dd\uccb4 \uc778\uc99d \ud14c\uc2a4\ud2b8"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:"// e2e/biometric.test.ts\nimport { device, element, by, expect } from 'detox';\n\ndescribe('Biometric Auth', () => {\n  beforeAll(async () => {\n    await device.launchApp();\n  });\n\n  it('should prompt biometric for private key export', async () => {\n    // \uc9c0\uac11 \uc0dd\uc131\n    await element(by.id('create-wallet-button')).tap();\n    await element(by.id('confirm-backup-button')).tap();\n\n    // \uc124\uc815 \u2192 \uac1c\uc778\ud0a4 \ub0b4\ubcf4\ub0b4\uae30\n    await element(by.id('settings-button')).tap();\n    await element(by.id('export-private-key-button')).tap();\n\n    // \uacbd\uace0 \ub2e4\uc774\uc5bc\ub85c\uadf8 \ud655\uc778\n    await expect(element(by.id('export-warning-dialog'))).toBeVisible();\n    await element(by.id('confirm-export-button')).tap();\n\n    // \uc0dd\uccb4 \uc778\uc99d \ud504\ub86c\ud504\ud2b8 (\uc2dc\ubbac\ub808\uc774\ud130\uc5d0\uc11c\ub294 \uc790\ub3d9 \uc131\uacf5)\n    // \uc2e4\uc81c \uae30\uae30\uc5d0\uc11c\ub294 \uc0dd\uccb4 \uc778\uc99d \ud544\uc694\n\n    // \uac1c\uc778\ud0a4 \ud45c\uc2dc \ud655\uc778 (\uc131\uacf5 \uc2dc)\n    await expect(element(by.id('private-key-display'))).toBeVisible();\n  });\n});\n"})}),"\n",(0,a.jsx)(n.h2,{id:"\ud14c\uc2a4\ud2b8-\uc2e4\ud589",children:"\ud14c\uc2a4\ud2b8 \uc2e4\ud589"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# iOS \uc2dc\ubbac\ub808\uc774\ud130\ndetox build --configuration ios.sim.debug\ndetox test --configuration ios.sim.debug\n\n# Android \uc5d0\ubbac\ub808\uc774\ud130\ndetox build --configuration android.emu.debug\ndetox test --configuration android.emu.debug\n\n# \ud2b9\uc815 \ud14c\uc2a4\ud2b8 \ud30c\uc77c\ub9cc\ndetox test --configuration ios.sim.debug e2e/wallet.test.ts\n\n# \ub9ac\ud2b8\ub77c\uc774 \ud3ec\ud568\ndetox test --configuration ios.sim.debug --retries 3\n"})}),"\n",(0,a.jsx)(n.h2,{id:"cicd-\ud1b5\ud569",children:"CI/CD \ud1b5\ud569"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"# .github/workflows/e2e.yml\nname: E2E Tests\n\non:\n  push:\n    branches: [main]\n  pull_request:\n    branches: [main]\n\njobs:\n  e2e-ios:\n    runs-on: macos-latest\n    steps:\n      - uses: actions/checkout@v4\n\n      - name: Setup Node.js\n        uses: actions/setup-node@v4\n        with:\n          node-version: '20'\n\n      - name: Install dependencies\n        run: npm ci\n\n      - name: Install Detox CLI\n        run: npm install -g detox-cli\n\n      - name: Install applesimutils\n        run: brew tap wix/brew && brew install applesimutils\n\n      - name: Build app\n        run: detox build --configuration ios.sim.debug\n\n      - name: Run E2E tests\n        run: detox test --configuration ios.sim.debug --headless\n\n  e2e-android:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n\n      - name: Setup Node.js\n        uses: actions/setup-node@v4\n        with:\n          node-version: '20'\n\n      - name: Setup Java\n        uses: actions/setup-java@v4\n        with:\n          distribution: 'temurin'\n          java-version: '17'\n\n      - name: Install dependencies\n        run: npm ci\n\n      - name: Build app\n        run: detox build --configuration android.emu.debug\n\n      - name: Run E2E tests\n        uses: reactivecircus/android-emulator-runner@v2\n        with:\n          api-level: 30\n          script: detox test --configuration android.emu.debug --headless\n"})}),"\n",(0,a.jsx)(n.h2,{id:"\ud14c\uc2a4\ud2b8-\uc720\ud2f8\ub9ac\ud2f0",children:"\ud14c\uc2a4\ud2b8 \uc720\ud2f8\ub9ac\ud2f0"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:"// e2e/utils.ts\nimport { element, by, waitFor } from 'detox';\n\nexport const waitForElement = async (testId: string, timeout = 5000) => {\n  await waitFor(element(by.id(testId))).toBeVisible().withTimeout(timeout);\n};\n\nexport const typeText = async (testId: string, text: string) => {\n  await element(by.id(testId)).tap();\n  await element(by.id(testId)).typeText(text);\n};\n\nexport const createWallet = async () => {\n  await element(by.id('create-wallet-button')).tap();\n  await waitForElement('mnemonic-backup-screen');\n  await element(by.id('confirm-backup-button')).tap();\n  await waitForElement('wallet-screen');\n};\n\nexport const recoverWallet = async (mnemonic: string) => {\n  await element(by.id('recover-wallet-button')).tap();\n  await typeText('mnemonic-input', mnemonic);\n  await element(by.id('submit-recover-button')).tap();\n  await waitForElement('wallet-screen');\n};\n"})})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}}}]);