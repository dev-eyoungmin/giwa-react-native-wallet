"use strict";(globalThis.webpackChunkgiwa_react_native_sdk_docs=globalThis.webpackChunkgiwa_react_native_sdk_docs||[]).push([[263],{6764(n,e,t){t.r(e),t.d(e,{assets:()=>c,contentTitle:()=>i,default:()=>h,frontMatter:()=>o,metadata:()=>a,toc:()=>l});const a=JSON.parse('{"id":"guides/transactions","title":"\ud2b8\ub79c\uc7ad\uc158","description":"ETH \uc804\uc1a1 \ubc0f \ud2b8\ub79c\uc7ad\uc158 \ucc98\ub9ac \ubc29\ubc95\uc744 \uc124\uba85\ud569\ub2c8\ub2e4.","source":"@site/docs/guides/transactions.md","sourceDirName":"guides","slug":"/guides/transactions","permalink":"/giwa-react-native-wallet/docs/guides/transactions","draft":false,"unlisted":false,"editUrl":"https://github.com/devym-37/giwa-react-native-wallet/tree/main/docs/docs/guides/transactions.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"\uc9c0\uac11 \uad00\ub9ac","permalink":"/giwa-react-native-wallet/docs/guides/wallet-management"},"next":{"title":"\ud1a0\ud070","permalink":"/giwa-react-native-wallet/docs/guides/tokens"}}');var s=t(6070),r=t(8193);const o={sidebar_position:2},i="\ud2b8\ub79c\uc7ad\uc158",c={},l=[{value:"useTransaction Hook",id:"usetransaction-hook",level:2},{value:"\uae30\ubcf8 ETH \uc804\uc1a1",id:"\uae30\ubcf8-eth-\uc804\uc1a1",level:2},{value:"\uac00\uc2a4 \ucd94\uc815",id:"\uac00\uc2a4-\ucd94\uc815",level:2},{value:"\uace0\uae09 \ud2b8\ub79c\uc7ad\uc158 \uc635\uc158",id:"\uace0\uae09-\ud2b8\ub79c\uc7ad\uc158-\uc635\uc158",level:2},{value:"\ud2b8\ub79c\uc7ad\uc158 \uc0c1\ud0dc \uc870\ud68c",id:"\ud2b8\ub79c\uc7ad\uc158-\uc0c1\ud0dc-\uc870\ud68c",level:2},{value:"\ud2b8\ub79c\uc7ad\uc158 \ud655\uc778 \ub300\uae30",id:"\ud2b8\ub79c\uc7ad\uc158-\ud655\uc778-\ub300\uae30",level:2},{value:"\uc5d0\ub7ec \ucc98\ub9ac",id:"\uc5d0\ub7ec-\ucc98\ub9ac",level:2},{value:"\uc804\uccb4 \uc608\uc81c: \uc804\uc1a1 \ud654\uba74",id:"\uc804\uccb4-\uc608\uc81c-\uc804\uc1a1-\ud654\uba74",level:2},{value:"\ub2e4\uc74c \ub2e8\uacc4",id:"\ub2e4\uc74c-\ub2e8\uacc4",level:2}];function d(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"\ud2b8\ub79c\uc7ad\uc158",children:"\ud2b8\ub79c\uc7ad\uc158"})}),"\n",(0,s.jsx)(e.p,{children:"ETH \uc804\uc1a1 \ubc0f \ud2b8\ub79c\uc7ad\uc158 \ucc98\ub9ac \ubc29\ubc95\uc744 \uc124\uba85\ud569\ub2c8\ub2e4."}),"\n",(0,s.jsx)(e.h2,{id:"usetransaction-hook",children:"useTransaction Hook"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-tsx",children:"import { useTransaction } from '@giwa/react-native-wallet';\n\nfunction TransactionScreen() {\n  const {\n    sendTransaction,   // \ud2b8\ub79c\uc7ad\uc158 \uc804\uc1a1\n    waitForReceipt,    // \uc601\uc218\uc99d \ub300\uae30\n    estimateGas,       // \uac00\uc2a4 \ucd94\uc815\n    getTransaction,    // \ud2b8\ub79c\uc7ad\uc158 \uc870\ud68c\n    isLoading,         // \ub85c\ub529 \uc0c1\ud0dc\n    error,             // \uc5d0\ub7ec \uc815\ubcf4\n  } = useTransaction();\n\n  // ...\n}\n"})}),"\n",(0,s.jsx)(e.h2,{id:"\uae30\ubcf8-eth-\uc804\uc1a1",children:"\uae30\ubcf8 ETH \uc804\uc1a1"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-tsx",children:"const handleSend = async () => {\n  try {\n    const hash = await sendTransaction({\n      to: '0x1234...5678',\n      value: '0.1', // ETH \ub2e8\uc704\n    });\n\n    console.log('\ud2b8\ub79c\uc7ad\uc158 \ud574\uc2dc:', hash);\n\n    // \uc601\uc218\uc99d \ub300\uae30 (\ube14\ub85d \ud655\uc778)\n    const receipt = await waitForReceipt(hash);\n    console.log('\ud655\uc778\ub41c \ube14\ub85d:', receipt.blockNumber);\n  } catch (error) {\n    console.error('\uc804\uc1a1 \uc2e4\ud328:', error.message);\n  }\n};\n"})}),"\n",(0,s.jsx)(e.h2,{id:"\uac00\uc2a4-\ucd94\uc815",children:"\uac00\uc2a4 \ucd94\uc815"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-tsx",children:"const handleEstimate = async () => {\n  const gas = await estimateGas({\n    to: '0x1234...5678',\n    value: '0.1',\n  });\n\n  console.log('\uc608\uc0c1 \uac00\uc2a4:', gas.gasLimit.toString());\n  console.log('\uac00\uc2a4 \uac00\uaca9:', gas.gasPrice.toString());\n  console.log('\uc608\uc0c1 \uc218\uc218\ub8cc:', gas.estimatedFee); // ETH \ub2e8\uc704\n};\n"})}),"\n",(0,s.jsx)(e.h2,{id:"\uace0\uae09-\ud2b8\ub79c\uc7ad\uc158-\uc635\uc158",children:"\uace0\uae09 \ud2b8\ub79c\uc7ad\uc158 \uc635\uc158"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-tsx",children:"const hash = await sendTransaction({\n  to: '0x1234...5678',\n  value: '0.1',\n  // \uc120\ud0dd\uc801 \uc635\uc158\n  gasLimit: 21000n,\n  gasPrice: 1000000000n, // 1 Gwei\n  nonce: 5,\n  data: '0x...', // \ucee8\ud2b8\ub799\ud2b8 \ud638\ucd9c \ub370\uc774\ud130\n});\n"})}),"\n",(0,s.jsx)(e.h2,{id:"\ud2b8\ub79c\uc7ad\uc158-\uc0c1\ud0dc-\uc870\ud68c",children:"\ud2b8\ub79c\uc7ad\uc158 \uc0c1\ud0dc \uc870\ud68c"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-tsx",children:"const checkStatus = async (hash: string) => {\n  const tx = await getTransaction(hash);\n\n  if (!tx) {\n    console.log('\ud2b8\ub79c\uc7ad\uc158\uc744 \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4');\n    return;\n  }\n\n  if (tx.blockNumber) {\n    console.log('\ud655\uc778\ub428 - \ube14\ub85d:', tx.blockNumber);\n  } else {\n    console.log('\ub300\uae30 \uc911...');\n  }\n};\n"})}),"\n",(0,s.jsx)(e.h2,{id:"\ud2b8\ub79c\uc7ad\uc158-\ud655\uc778-\ub300\uae30",children:"\ud2b8\ub79c\uc7ad\uc158 \ud655\uc778 \ub300\uae30"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-tsx",children:"// \uae30\ubcf8 \ub300\uae30 (1 \ud655\uc778)\nconst receipt = await waitForReceipt(hash);\n\n// \uc5ec\ub7ec \ud655\uc778 \ub300\uae30\nconst receipt = await waitForReceipt(hash, {\n  confirmations: 3, // 3\ube14\ub85d \ud655\uc778 \ub300\uae30\n  timeout: 60000,   // 60\ucd08 \ud0c0\uc784\uc544\uc6c3\n});\n"})}),"\n",(0,s.jsx)(e.h2,{id:"\uc5d0\ub7ec-\ucc98\ub9ac",children:"\uc5d0\ub7ec \ucc98\ub9ac"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-tsx",children:"import { GiwaTransactionError, ErrorCodes } from '@giwa/react-native-wallet';\n\ntry {\n  await sendTransaction({ to, value });\n} catch (error) {\n  if (error instanceof GiwaTransactionError) {\n    switch (error.code) {\n      case ErrorCodes.INSUFFICIENT_FUNDS:\n        Alert.alert('\uc794\uc561 \ubd80\uc871', '\uc804\uc1a1\ud560 \uc794\uc561\uc774 \ubd80\uc871\ud569\ub2c8\ub2e4');\n        break;\n      case ErrorCodes.INVALID_ADDRESS:\n        Alert.alert('\uc8fc\uc18c \uc624\ub958', '\uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \uc8fc\uc18c\uc785\ub2c8\ub2e4');\n        break;\n      case ErrorCodes.NONCE_TOO_LOW:\n        Alert.alert('\uc624\ub958', '\ud2b8\ub79c\uc7ad\uc158 nonce\uac00 \ub108\ubb34 \ub0ae\uc2b5\ub2c8\ub2e4');\n        break;\n      case ErrorCodes.GAS_TOO_LOW:\n        Alert.alert('\uac00\uc2a4 \ubd80\uc871', '\uac00\uc2a4 \ud55c\ub3c4\uac00 \ub108\ubb34 \ub0ae\uc2b5\ub2c8\ub2e4');\n        break;\n      default:\n        Alert.alert('\uc804\uc1a1 \uc2e4\ud328', error.message);\n    }\n  }\n}\n"})}),"\n",(0,s.jsx)(e.h2,{id:"\uc804\uccb4-\uc608\uc81c-\uc804\uc1a1-\ud654\uba74",children:"\uc804\uccb4 \uc608\uc81c: \uc804\uc1a1 \ud654\uba74"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-tsx",children:"import { useState } from 'react';\nimport { View, Text, TextInput, Button, Alert, ActivityIndicator } from 'react-native';\nimport { useTransaction, useBalance } from '@giwa/react-native-wallet';\n\nexport function SendScreen() {\n  const [to, setTo] = useState('');\n  const [amount, setAmount] = useState('');\n  const [txHash, setTxHash] = useState('');\n\n  const { sendTransaction, waitForReceipt, estimateGas, isLoading } = useTransaction();\n  const { formattedBalance } = useBalance();\n\n  const handleEstimate = async () => {\n    if (!to || !amount) return;\n\n    try {\n      const gas = await estimateGas({ to, value: amount });\n      Alert.alert('\uc608\uc0c1 \uc218\uc218\ub8cc', `${gas.estimatedFee} ETH`);\n    } catch (error) {\n      Alert.alert('\uc624\ub958', error.message);\n    }\n  };\n\n  const handleSend = async () => {\n    if (!to || !amount) {\n      Alert.alert('\uc785\ub825 \ud544\uc694', '\uc8fc\uc18c\uc640 \uae08\uc561\uc744 \uc785\ub825\ud558\uc138\uc694');\n      return;\n    }\n\n    try {\n      const hash = await sendTransaction({ to, value: amount });\n      setTxHash(hash);\n\n      Alert.alert('\uc804\uc1a1 \uc911', `\ud574\uc2dc: ${hash.slice(0, 20)}...`);\n\n      const receipt = await waitForReceipt(hash);\n      Alert.alert('\uc644\ub8cc', `\ube14\ub85d ${receipt.blockNumber}\uc5d0\uc11c \ud655\uc778\ub428`);\n    } catch (error) {\n      Alert.alert('\uc804\uc1a1 \uc2e4\ud328', error.message);\n    }\n  };\n\n  return (\n    <View style={{ padding: 20 }}>\n      <Text style={{ marginBottom: 10 }}>\uc794\uc561: {formattedBalance} ETH</Text>\n\n      <TextInput\n        placeholder=\"\ubc1b\ub294 \uc8fc\uc18c (0x...)\"\n        value={to}\n        onChangeText={setTo}\n        autoCapitalize=\"none\"\n        style={{\n          borderWidth: 1,\n          borderColor: '#ccc',\n          padding: 12,\n          marginBottom: 10,\n          borderRadius: 8,\n        }}\n      />\n\n      <TextInput\n        placeholder=\"\uae08\uc561 (ETH)\"\n        value={amount}\n        onChangeText={setAmount}\n        keyboardType=\"decimal-pad\"\n        style={{\n          borderWidth: 1,\n          borderColor: '#ccc',\n          padding: 12,\n          marginBottom: 10,\n          borderRadius: 8,\n        }}\n      />\n\n      <Button title=\"\uc218\uc218\ub8cc \ud655\uc778\" onPress={handleEstimate} disabled={isLoading} />\n\n      <View style={{ marginTop: 10 }}>\n        <Button\n          title={isLoading ? '\uc804\uc1a1 \uc911...' : '\uc804\uc1a1'}\n          onPress={handleSend}\n          disabled={isLoading || !to || !amount}\n        />\n      </View>\n\n      {txHash && (\n        <Text style={{ marginTop: 20, fontFamily: 'monospace', fontSize: 12 }}>\n          \ucd5c\uadfc TX: {txHash}\n        </Text>\n      )}\n    </View>\n  );\n}\n"})}),"\n",(0,s.jsx)(e.h2,{id:"\ub2e4\uc74c-\ub2e8\uacc4",children:"\ub2e4\uc74c \ub2e8\uacc4"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"/docs/guides/tokens",children:"\ud1a0\ud070"})," - ERC-20 \ud1a0\ud070 \uc804\uc1a1"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"/docs/guides/flashblocks",children:"Flashblocks"})," - \ube60\ub978 \ud2b8\ub79c\uc7ad\uc158 \ud655\uc778"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"/docs/guides/bridge",children:"\ube0c\ub9bf\uc9c0"})," - L1\u2194L2 \uc790\uc0b0 \uc774\ub3d9"]}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(d,{...n})}):d(n)}},8193(n,e,t){t.d(e,{R:()=>o,x:()=>i});var a=t(758);const s={},r=a.createContext(s);function o(n){const e=a.useContext(r);return a.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function i(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:o(n.components),a.createElement(r.Provider,{value:e},n.children)}}}]);