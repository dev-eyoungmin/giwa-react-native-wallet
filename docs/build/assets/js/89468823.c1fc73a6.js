"use strict";(globalThis.webpackChunkgiwa_react_native_sdk_docs=globalThis.webpackChunkgiwa_react_native_sdk_docs||[]).push([[633],{384(e,n,t){t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"guides/bridge","title":"L1\u2194L2 \ube0c\ub9bf\uc9c0","description":"\uc774\ub354\ub9ac\uc6c0 \uba54\uc778\ub137(L1)\uacfc GIWA Chain(L2) \uac04 \uc790\uc0b0 \uc774\ub3d9 \ubc29\ubc95\uc744 \uc124\uba85\ud569\ub2c8\ub2e4.","source":"@site/docs/guides/bridge.md","sourceDirName":"guides","slug":"/guides/bridge","permalink":"/giwa-react-native-wallet/docs/guides/bridge","draft":false,"unlisted":false,"editUrl":"https://github.com/devym-37/giwa-react-native-wallet/tree/main/docs/docs/guides/bridge.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"\ud1a0\ud070","permalink":"/giwa-react-native-wallet/docs/guides/tokens"},"next":{"title":"Flashblocks","permalink":"/giwa-react-native-wallet/docs/guides/flashblocks"}}');var o=t(6070),a=t(8193);const i={sidebar_position:4},r="L1\u2194L2 \ube0c\ub9bf\uc9c0",l={},c=[{value:"useBridge Hook",id:"usebridge-hook",level:2},{value:"L1 \u2192 L2 \uc785\uae08 (Deposit)",id:"l1--l2-\uc785\uae08-deposit",level:2},{value:"L2 \u2192 L1 \ucd9c\uae08 (Withdraw)",id:"l2--l1-\ucd9c\uae08-withdraw",level:2},{value:"\uc218\uc218\ub8cc \ucd94\uc815",id:"\uc218\uc218\ub8cc-\ucd94\uc815",level:2},{value:"\uc0c1\ud0dc \uc870\ud68c",id:"\uc0c1\ud0dc-\uc870\ud68c",level:2},{value:"\uc785\uae08 \uc0c1\ud0dc",id:"\uc785\uae08-\uc0c1\ud0dc",level:3},{value:"\ucd9c\uae08 \uc0c1\ud0dc",id:"\ucd9c\uae08-\uc0c1\ud0dc",level:3},{value:"ERC-20 \ud1a0\ud070 \ube0c\ub9bf\uc9c0",id:"erc-20-\ud1a0\ud070-\ube0c\ub9bf\uc9c0",level:2},{value:"\uc804\uccb4 \uc608\uc81c: \ube0c\ub9bf\uc9c0 \ud654\uba74",id:"\uc804\uccb4-\uc608\uc81c-\ube0c\ub9bf\uc9c0-\ud654\uba74",level:2},{value:"\ub2e4\uc74c \ub2e8\uacc4",id:"\ub2e4\uc74c-\ub2e8\uacc4",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"l1l2-\ube0c\ub9bf\uc9c0",children:"L1\u2194L2 \ube0c\ub9bf\uc9c0"})}),"\n",(0,o.jsx)(n.p,{children:"\uc774\ub354\ub9ac\uc6c0 \uba54\uc778\ub137(L1)\uacfc GIWA Chain(L2) \uac04 \uc790\uc0b0 \uc774\ub3d9 \ubc29\ubc95\uc744 \uc124\uba85\ud569\ub2c8\ub2e4."}),"\n",(0,o.jsx)(n.h2,{id:"usebridge-hook",children:"useBridge Hook"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:"import { useBridge } from '@giwa/react-native-wallet';\n\nfunction BridgeScreen() {\n  const {\n    deposit,           // L1 \u2192 L2 \uc785\uae08\n    withdraw,          // L2 \u2192 L1 \ucd9c\uae08\n    getDepositStatus,  // \uc785\uae08 \uc0c1\ud0dc \uc870\ud68c\n    getWithdrawStatus, // \ucd9c\uae08 \uc0c1\ud0dc \uc870\ud68c\n    estimateFees,      // \uc218\uc218\ub8cc \ucd94\uc815\n    isLoading,\n  } = useBridge();\n\n  // ...\n}\n"})}),"\n",(0,o.jsx)(n.h2,{id:"l1--l2-\uc785\uae08-deposit",children:"L1 \u2192 L2 \uc785\uae08 (Deposit)"}),"\n",(0,o.jsx)(n.p,{children:"\uc774\ub354\ub9ac\uc6c0 \uba54\uc778\ub137\uc5d0\uc11c GIWA Chain\uc73c\ub85c \uc790\uc0b0 \uc774\ub3d9:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:"const handleDeposit = async () => {\n  try {\n    const result = await deposit({\n      amount: '0.1',     // ETH \ub2e8\uc704\n      token: 'ETH',      // \ub610\ub294 \ud1a0\ud070 \uc8fc\uc18c\n    });\n\n    console.log('L1 TX:', result.l1TxHash);\n    console.log('\uc608\uc0c1 \uc644\ub8cc \uc2dc\uac04:', result.estimatedTime);\n\n    // \uc785\uae08\uc740 \uc57d 10-15\ubd84 \uc18c\uc694\n  } catch (error) {\n    console.error('\uc785\uae08 \uc2e4\ud328:', error.message);\n  }\n};\n"})}),"\n",(0,o.jsx)(n.h2,{id:"l2--l1-\ucd9c\uae08-withdraw",children:"L2 \u2192 L1 \ucd9c\uae08 (Withdraw)"}),"\n",(0,o.jsx)(n.p,{children:"GIWA Chain\uc5d0\uc11c \uc774\ub354\ub9ac\uc6c0 \uba54\uc778\ub137\uc73c\ub85c \uc790\uc0b0 \uc774\ub3d9:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:"const handleWithdraw = async () => {\n  try {\n    const result = await withdraw({\n      amount: '0.1',\n      token: 'ETH',\n    });\n\n    console.log('L2 TX:', result.l2TxHash);\n    console.log('\uc608\uc0c1 \uc644\ub8cc \uc2dc\uac04:', result.estimatedTime);\n\n    // \ucd9c\uae08\uc740 Challenge Period\ub85c \uc778\ud574 \uc57d 7\uc77c \uc18c\uc694\n  } catch (error) {\n    console.error('\ucd9c\uae08 \uc2e4\ud328:', error.message);\n  }\n};\n"})}),"\n",(0,o.jsx)(n.admonition,{title:"Challenge Period",type:"info",children:(0,o.jsx)(n.p,{children:"L2 \u2192 L1 \ucd9c\uae08\uc740 \ubcf4\uc548\uc0c1\uc758 \uc774\uc720\ub85c \uc57d 7\uc77c\uc758 Challenge Period\uac00 \ud544\uc694\ud569\ub2c8\ub2e4. \uc774 \uae30\uac04 \ub3d9\uc548 \uac80\uc99d\uc790\ub4e4\uc774 \ucd9c\uae08 \uc694\uccad\uc758 \uc720\ud6a8\uc131\uc744 \uac80\uc99d\ud569\ub2c8\ub2e4."})}),"\n",(0,o.jsx)(n.h2,{id:"\uc218\uc218\ub8cc-\ucd94\uc815",children:"\uc218\uc218\ub8cc \ucd94\uc815"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:"const checkFees = async () => {\n  const fees = await estimateFees({\n    direction: 'deposit', // 'deposit' | 'withdraw'\n    amount: '0.1',\n    token: 'ETH',\n  });\n\n  console.log('L1 \uac00\uc2a4\ube44:', fees.l1GasFee);\n  console.log('L2 \uac00\uc2a4\ube44:', fees.l2GasFee);\n  console.log('\ucd1d \uc608\uc0c1 \uc218\uc218\ub8cc:', fees.totalFee);\n};\n"})}),"\n",(0,o.jsx)(n.h2,{id:"\uc0c1\ud0dc-\uc870\ud68c",children:"\uc0c1\ud0dc \uc870\ud68c"}),"\n",(0,o.jsx)(n.h3,{id:"\uc785\uae08-\uc0c1\ud0dc",children:"\uc785\uae08 \uc0c1\ud0dc"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:"const checkDepositStatus = async (l1TxHash: string) => {\n  const status = await getDepositStatus(l1TxHash);\n\n  switch (status.state) {\n    case 'pending':\n      console.log('L1\uc5d0\uc11c \ucc98\ub9ac \uc911...');\n      break;\n    case 'l1_confirmed':\n      console.log('L1 \ud655\uc778\ub428, L2 \ub300\uae30 \uc911...');\n      break;\n    case 'completed':\n      console.log('\uc644\ub8cc! L2 TX:', status.l2TxHash);\n      break;\n    case 'failed':\n      console.log('\uc2e4\ud328:', status.error);\n      break;\n  }\n};\n"})}),"\n",(0,o.jsx)(n.h3,{id:"\ucd9c\uae08-\uc0c1\ud0dc",children:"\ucd9c\uae08 \uc0c1\ud0dc"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:"const checkWithdrawStatus = async (l2TxHash: string) => {\n  const status = await getWithdrawStatus(l2TxHash);\n\n  switch (status.state) {\n    case 'pending':\n      console.log('L2\uc5d0\uc11c \ucc98\ub9ac \uc911...');\n      break;\n    case 'waiting_for_proof':\n      console.log('\uc99d\uba85 \ub300\uae30 \uc911...');\n      break;\n    case 'ready_to_prove':\n      console.log('\uc99d\uba85 \uc900\ube44 \uc644\ub8cc');\n      break;\n    case 'in_challenge':\n      console.log('Challenge \uae30\uac04 \uc911...', status.remainingTime);\n      break;\n    case 'ready_to_finalize':\n      console.log('\ucd5c\uc885 \ud655\uc815 \uac00\ub2a5');\n      break;\n    case 'completed':\n      console.log('\uc644\ub8cc! L1 TX:', status.l1TxHash);\n      break;\n  }\n};\n"})}),"\n",(0,o.jsx)(n.h2,{id:"erc-20-\ud1a0\ud070-\ube0c\ub9bf\uc9c0",children:"ERC-20 \ud1a0\ud070 \ube0c\ub9bf\uc9c0"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:"// L1 \u2192 L2 \ud1a0\ud070 \uc785\uae08\nconst depositToken = async () => {\n  const tokenAddress = '0x...'; // L1 \ud1a0\ud070 \uc8fc\uc18c\n\n  // \uba3c\uc800 \ube0c\ub9bf\uc9c0 \ucee8\ud2b8\ub799\ud2b8\uc5d0 \ud1a0\ud070 \uc2b9\uc778 \ud544\uc694\n  await approveToken(tokenAddress, BRIDGE_ADDRESS, '100');\n\n  const result = await deposit({\n    amount: '100',\n    token: tokenAddress,\n  });\n};\n\n// L2 \u2192 L1 \ud1a0\ud070 \ucd9c\uae08\nconst withdrawToken = async () => {\n  const l2TokenAddress = '0x...'; // L2 \ud1a0\ud070 \uc8fc\uc18c\n\n  const result = await withdraw({\n    amount: '100',\n    token: l2TokenAddress,\n  });\n};\n"})}),"\n",(0,o.jsx)(n.h2,{id:"\uc804\uccb4-\uc608\uc81c-\ube0c\ub9bf\uc9c0-\ud654\uba74",children:"\uc804\uccb4 \uc608\uc81c: \ube0c\ub9bf\uc9c0 \ud654\uba74"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:"import { useState } from 'react';\nimport { View, Text, TextInput, Button, Alert, SegmentedButtons } from 'react-native';\nimport { useBridge, useBalance } from '@giwa/react-native-wallet';\n\nexport function BridgeScreen() {\n  const [direction, setDirection] = useState<'deposit' | 'withdraw'>('deposit');\n  const [amount, setAmount] = useState('');\n\n  const { deposit, withdraw, estimateFees, isLoading } = useBridge();\n  const { formattedBalance: l2Balance } = useBalance();\n\n  const handleBridge = async () => {\n    if (!amount) return;\n\n    try {\n      // \uc218\uc218\ub8cc \ud655\uc778\n      const fees = await estimateFees({ direction, amount, token: 'ETH' });\n\n      Alert.alert(\n        '\uc218\uc218\ub8cc \ud655\uc778',\n        `\uc608\uc0c1 \uc218\uc218\ub8cc: ${fees.totalFee} ETH\\n\uc9c4\ud589\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?`,\n        [\n          { text: '\ucde8\uc18c', style: 'cancel' },\n          {\n            text: '\ud655\uc778',\n            onPress: async () => {\n              if (direction === 'deposit') {\n                const result = await deposit({ amount, token: 'ETH' });\n                Alert.alert('\uc785\uae08 \uc2dc\uc791', `TX: ${result.l1TxHash}`);\n              } else {\n                const result = await withdraw({ amount, token: 'ETH' });\n                Alert.alert(\n                  '\ucd9c\uae08 \uc2dc\uc791',\n                  `TX: ${result.l2TxHash}\\n\\n\ucd9c\uae08\uc740 \uc57d 7\uc77c\uc774 \uc18c\uc694\ub429\ub2c8\ub2e4.`\n                );\n              }\n            },\n          },\n        ]\n      );\n    } catch (error) {\n      Alert.alert('\uc624\ub958', error.message);\n    }\n  };\n\n  return (\n    <View style={{ padding: 20 }}>\n      <Text style={{ fontSize: 18, marginBottom: 20 }}>\ube0c\ub9bf\uc9c0</Text>\n\n      <View style={{ flexDirection: 'row', marginBottom: 20 }}>\n        <Button\n          title=\"\uc785\uae08 (L1\u2192L2)\"\n          onPress={() => setDirection('deposit')}\n          color={direction === 'deposit' ? 'blue' : 'gray'}\n        />\n        <Button\n          title=\"\ucd9c\uae08 (L2\u2192L1)\"\n          onPress={() => setDirection('withdraw')}\n          color={direction === 'withdraw' ? 'blue' : 'gray'}\n        />\n      </View>\n\n      <Text style={{ marginBottom: 5 }}>\n        {direction === 'deposit'\n          ? 'L1 (\uc774\ub354\ub9ac\uc6c0) \u2192 L2 (GIWA)'\n          : 'L2 (GIWA) \u2192 L1 (\uc774\ub354\ub9ac\uc6c0)'}\n      </Text>\n\n      {direction === 'withdraw' && (\n        <Text style={{ marginBottom: 10, color: '#666' }}>\n          L2 \uc794\uc561: {l2Balance} ETH\n        </Text>\n      )}\n\n      <TextInput\n        placeholder=\"\uae08\uc561 (ETH)\"\n        value={amount}\n        onChangeText={setAmount}\n        keyboardType=\"decimal-pad\"\n        style={{\n          borderWidth: 1,\n          borderColor: '#ccc',\n          padding: 12,\n          marginBottom: 10,\n          borderRadius: 8,\n        }}\n      />\n\n      {direction === 'withdraw' && (\n        <Text style={{ color: 'orange', marginBottom: 10 }}>\n          \u26a0\ufe0f \ucd9c\uae08\uc740 Challenge Period\ub85c \uc57d 7\uc77c\uc774 \uc18c\uc694\ub429\ub2c8\ub2e4\n        </Text>\n      )}\n\n      <Button\n        title={isLoading ? '\ucc98\ub9ac \uc911...' : direction === 'deposit' ? '\uc785\uae08' : '\ucd9c\uae08'}\n        onPress={handleBridge}\n        disabled={isLoading || !amount}\n      />\n    </View>\n  );\n}\n"})}),"\n",(0,o.jsx)(n.h2,{id:"\ub2e4\uc74c-\ub2e8\uacc4",children:"\ub2e4\uc74c \ub2e8\uacc4"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"/docs/guides/flashblocks",children:"Flashblocks"})," - \ube60\ub978 \ud2b8\ub79c\uc7ad\uc158 \ud655\uc778"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"/docs/guides/transactions",children:"\ud2b8\ub79c\uc7ad\uc158"})," - \uae30\ubcf8 \ud2b8\ub79c\uc7ad\uc158"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8193(e,n,t){t.d(n,{R:()=>i,x:()=>r});var s=t(758);const o={},a=s.createContext(o);function i(e){const n=s.useContext(a);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);